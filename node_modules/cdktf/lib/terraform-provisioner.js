"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.TerraformSelf = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
// Copyright (c) HashiCorp, Inc
// SPDX-License-Identifier: MPL-2.0
const tfExpression_1 = require("./tfExpression");
const token_1 = require("./tokens/token");
const util_1 = require("./util");
/**
 * Expressions in connection blocks cannot refer to their parent resource by name.
 * References create dependencies, and referring to a resource by name within its own block would create a dependency cycle.
 * Instead, expressions can use the self object, which represents the connection's parent resource and has all of that resource's attributes.
 * For example, use self.public_ip to reference an aws_instance's public_ip attribute.
 */
class TerraformSelf {
    static getInterpolation(key) {
        return `self.${(0, util_1.snakeCase)(key)}`;
    }
    /**
     * Only usable within a connection block to reference the connections parent resource.
     * Access a property on the resource like this: `getString("publicIp")`
     */
    static getString(key) {
        return token_1.Token.asString((0, tfExpression_1.ref)(TerraformSelf.getInterpolation(key)));
    }
    /**
     * Only usable within a connection block to reference the connections parent resource.
     * Access a property on the resource like this: `getNumber("hostPort")`
     */
    static getNumber(key) {
        return token_1.Token.asNumber((0, tfExpression_1.ref)(TerraformSelf.getInterpolation(key)));
    }
    /**
     * Only usable within a connection block to reference the connections parent resource.
     * Access a property on the resource like this: `getAny("hostPort")`
     */
    static getAny(key) {
        return token_1.Token.asAny((0, tfExpression_1.ref)(TerraformSelf.getInterpolation(key)));
    }
}
exports.TerraformSelf = TerraformSelf;
_a = JSII_RTTI_SYMBOL_1;
TerraformSelf[_a] = { fqn: "cdktf.TerraformSelf", version: "0.20.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVycmFmb3JtLXByb3Zpc2lvbmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidGVycmFmb3JtLXByb3Zpc2lvbmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsK0JBQStCO0FBQy9CLG1DQUFtQztBQUNuQyxpREFBcUM7QUFDckMsMENBQXVDO0FBQ3ZDLGlDQUFtQztBQXVWbkM7Ozs7O0dBS0c7QUFDSCxNQUFhLGFBQWE7SUFDaEIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLEdBQVc7UUFDekMsT0FBTyxRQUFRLElBQUEsZ0JBQVMsRUFBQyxHQUFHLENBQUMsRUFBRSxDQUFDO0lBQ2xDLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQVc7UUFDakMsT0FBTyxhQUFLLENBQUMsUUFBUSxDQUFDLElBQUEsa0JBQUcsRUFBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQVc7UUFDakMsT0FBTyxhQUFLLENBQUMsUUFBUSxDQUFDLElBQUEsa0JBQUcsRUFBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRDs7O09BR0c7SUFDSSxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQVc7UUFDOUIsT0FBTyxhQUFLLENBQUMsS0FBSyxDQUFDLElBQUEsa0JBQUcsRUFBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQy9ELENBQUM7O0FBM0JILHNDQTRCQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgSGFzaGlDb3JwLCBJbmNcbi8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNUEwtMi4wXG5pbXBvcnQgeyByZWYgfSBmcm9tIFwiLi90ZkV4cHJlc3Npb25cIjtcbmltcG9ydCB7IFRva2VuIH0gZnJvbSBcIi4vdG9rZW5zL3Rva2VuXCI7XG5pbXBvcnQgeyBzbmFrZUNhc2UgfSBmcm9tIFwiLi91dGlsXCI7XG4vKipcbiAqIE1vc3QgcHJvdmlzaW9uZXJzIHJlcXVpcmUgYWNjZXNzIHRvIHRoZSByZW1vdGUgcmVzb3VyY2UgdmlhIFNTSCBvciBXaW5STSBhbmQgZXhwZWN0IGEgbmVzdGVkIGNvbm5lY3Rpb24gYmxvY2sgd2l0aCBkZXRhaWxzIGFib3V0IGhvdyB0byBjb25uZWN0LlxuICpcbiAqIFJlZmVyIHRvIHtAbGluayBodHRwczovL2RldmVsb3Blci5oYXNoaWNvcnAuY29tL3RlcnJhZm9ybS9sYW5ndWFnZS9yZXNvdXJjZXMvcHJvdmlzaW9uZXJzL2Nvbm5lY3Rpb24gY29ubmVjdGlvbn1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTU0hQcm92aXNpb25lckNvbm5lY3Rpb24ge1xuICAvKipcbiAgICogVGhlIGNvbm5lY3Rpb24gdHlwZS4gVmFsaWQgdmFsdWVzIGFyZSBcInNzaFwiIGFuZCBcIndpbnJtXCIuXG4gICAqIFByb3Zpc2lvbmVycyB0eXBpY2FsbHkgYXNzdW1lIHRoYXQgdGhlIHJlbW90ZSBzeXN0ZW0gcnVucyBNaWNyb3NvZnQgV2luZG93cyB3aGVuIHVzaW5nIFdpblJNLlxuICAgKiBCZWhhdmlvcnMgYmFzZWQgb24gdGhlIFNTSCB0YXJnZXRfcGxhdGZvcm0gd2lsbCBmb3JjZSBXaW5kb3dzLXNwZWNpZmljIGJlaGF2aW9yIGZvciBXaW5STSwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gICAqL1xuICByZWFkb25seSB0eXBlOiBcInNzaFwiO1xuXG4gIC8qKlxuICAgKiBUaGUgdXNlciB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAZGVmYXVsdCByb290XG4gICAqL1xuICByZWFkb25seSB1c2VyPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFzc3dvcmQgdG8gdXNlIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IHBhc3N3b3JkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgYWRkcmVzcyBvZiB0aGUgcmVzb3VyY2UgdG8gY29ubmVjdCB0by5cbiAgICovXG4gIHJlYWRvbmx5IGhvc3Q6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBvcnQgdG8gY29ubmVjdCB0by5cbiAgICpcbiAgICogQGRlZmF1bHQgMjJcbiAgICovXG4gIHJlYWRvbmx5IHBvcnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lb3V0IHRvIHdhaXQgZm9yIHRoZSBjb25uZWN0aW9uIHRvIGJlY29tZSBhdmFpbGFibGUuXG4gICAqIFNob3VsZCBiZSBwcm92aWRlZCBhcyBhIHN0cmluZyAoZS5nLiwgXCIzMHNcIiBvciBcIjVtXCIuKVxuICAgKlxuICAgKiBAZGVmYXVsdCA1bVxuICAgKi9cbiAgcmVhZG9ubHkgdGltZW91dD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHBhdGggdXNlZCB0byBjb3B5IHNjcmlwdHMgbWVhbnQgZm9yIHJlbW90ZSBleGVjdXRpb24uXG4gICAqIFJlZmVyIHRvIHtAbGluayBodHRwczovL2RldmVsb3Blci5oYXNoaWNvcnAuY29tL3RlcnJhZm9ybS9sYW5ndWFnZS9yZXNvdXJjZXMvcHJvdmlzaW9uZXJzL2Nvbm5lY3Rpb24jaG93LXByb3Zpc2lvbmVycy1leGVjdXRlLXJlbW90ZS1zY3JpcHRzIEhvdyBQcm92aXNpb25lcnMgRXhlY3V0ZSBSZW1vdGUgU2NyaXB0cyBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzfVxuICAgKi9cbiAgcmVhZG9ubHkgc2NyaXB0UGF0aD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIGFuIFNTSCBrZXkgdG8gdXNlIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICogVGhlc2UgY2FuIGJlIGxvYWRlZCBmcm9tIGEgZmlsZSBvbiBkaXNrIHVzaW5nIHRoZSBmaWxlIGZ1bmN0aW9uLlxuICAgKiBUaGlzIHRha2VzIHByZWZlcmVuY2Ugb3ZlciBwYXNzd29yZCBpZiBwcm92aWRlZC5cbiAgICovXG4gIHJlYWRvbmx5IHByaXZhdGVLZXk/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiBhIHNpZ25lZCBDQSBDZXJ0aWZpY2F0ZS5cbiAgICogVGhlIGNlcnRpZmljYXRlIGFyZ3VtZW50IG11c3QgYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgcHJpdmF0ZV9rZXkuXG4gICAqIFRoZXNlIGNhbiBiZSBsb2FkZWQgZnJvbSBhIGZpbGUgb24gZGlzayB1c2luZyB0aGUgdGhlIGZpbGUgZnVuY3Rpb24uXG4gICAqL1xuICByZWFkb25seSBjZXJ0aWZpY2F0ZT86IHN0cmluZztcblxuICAvKipcbiAgICogU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdXNpbmcgc3NoLWFnZW50IHRvIGF1dGhlbnRpY2F0ZS5cbiAgICogT24gV2luZG93cyB0aGUgb25seSBzdXBwb3J0ZWQgU1NIIGF1dGhlbnRpY2F0aW9uIGFnZW50IGlzIFBhZ2VhbnQuXG4gICAqL1xuICByZWFkb25seSBhZ2VudD86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCBpZGVudGl0eSBmcm9tIHRoZSBzc2ggYWdlbnQgZm9yIGF1dGhlbnRpY2F0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgYWdlbnRJZGVudGl0eT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHB1YmxpYyBrZXkgZnJvbSB0aGUgcmVtb3RlIGhvc3Qgb3IgdGhlIHNpZ25pbmcgQ0EsIHVzZWQgdG8gdmVyaWZ5IHRoZSBjb25uZWN0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgaG9zdEtleT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHRhcmdldCBwbGF0Zm9ybSB0byBjb25uZWN0IHRvLlxuICAgKiBWYWxpZCB2YWx1ZXMgYXJlIFwid2luZG93c1wiIGFuZCBcInVuaXhcIi5cbiAgICogSWYgdGhlIHBsYXRmb3JtIGlzIHNldCB0byB3aW5kb3dzLCB0aGUgZGVmYXVsdCBzY3JpcHRfcGF0aCBpcyBjOlxcd2luZG93c1xcdGVtcFxcdGVycmFmb3JtXyVSQU5EJS5jbWQsIGFzc3VtaW5nIHRoZSBTU0ggZGVmYXVsdCBzaGVsbCBpcyBjbWQuZXhlLlxuICAgKiBJZiB0aGUgU1NIIGRlZmF1bHQgc2hlbGwgaXMgUG93ZXJTaGVsbCwgc2V0IHNjcmlwdF9wYXRoIHRvIFwiYzovd2luZG93cy90ZW1wL3RlcnJhZm9ybV8lUkFORCUucHMxXCJcbiAgICogQGRlZmF1bHQgdW5peFxuICAgKi9cbiAgcmVhZG9ubHkgdGFyZ2V0UGxhdGZvcm0/OiBcInVuaXhcIiB8IFwid2luZG93c1wiO1xuXG4gIC8qKlxuICAgKiBTZXR0aW5nIHRoaXMgZW5hYmxlcyB0aGUgYmFzdGlvbiBIb3N0IGNvbm5lY3Rpb24uXG4gICAqIFRoZSBwcm92aXNpb25lciB3aWxsIGNvbm5lY3QgdG8gYmFzdGlvbl9ob3N0IGZpcnN0LCBhbmQgdGhlbiBjb25uZWN0IGZyb20gdGhlcmUgdG8gaG9zdC5cbiAgICovXG4gIHJlYWRvbmx5IGJhc3Rpb25Ib3N0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcHVibGljIGtleSBmcm9tIHRoZSByZW1vdGUgaG9zdCBvciB0aGUgc2lnbmluZyBDQSwgdXNlZCB0byB2ZXJpZnkgdGhlIGhvc3QgY29ubmVjdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IGJhc3Rpb25Ib3N0S2V5Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcG9ydCB0byB1c2UgY29ubmVjdCB0byB0aGUgYmFzdGlvbiBob3N0LlxuICAgKi9cbiAgcmVhZG9ubHkgYmFzdGlvblBvcnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSB1c2VyIGZvciB0aGUgY29ubmVjdGlvbiB0byB0aGUgYmFzdGlvbiBob3N0LlxuICAgKi9cbiAgcmVhZG9ubHkgYmFzdGlvblVzZXI/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwYXNzd29yZCB0byB1c2UgZm9yIHRoZSBiYXN0aW9uIGhvc3QuXG4gICAqL1xuICByZWFkb25seSBiYXN0aW9uUGFzc3dvcmQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjb250ZW50cyBvZiBhbiBTU0gga2V5IGZpbGUgdG8gdXNlIGZvciB0aGUgYmFzdGlvbiBob3N0LlxuICAgKiBUaGVzZSBjYW4gYmUgbG9hZGVkIGZyb20gYSBmaWxlIG9uIGRpc2sgdXNpbmcgdGhlIGZpbGUgZnVuY3Rpb24uXG4gICAqL1xuICByZWFkb25seSBiYXN0aW9uUHJpdmF0ZUtleT86IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNvbnRlbnRzIG9mIGEgc2lnbmVkIENBIENlcnRpZmljYXRlLlxuICAgKiBUaGUgY2VydGlmaWNhdGUgYXJndW1lbnQgbXVzdCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYSBiYXN0aW9uX3ByaXZhdGVfa2V5LlxuICAgKiBUaGVzZSBjYW4gYmUgbG9hZGVkIGZyb20gYSBmaWxlIG9uIGRpc2sgdXNpbmcgdGhlIHRoZSBmaWxlIGZ1bmN0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgYmFzdGlvbkNlcnRpZmljYXRlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3NoIGNvbm5lY3Rpb24gYWxzbyBzdXBwb3J0cyB0aGUgZm9sbG93aW5nIGZpZWxkcyB0byBmYWNpbGl0YXRlIGNvbm5lY3Rpb25zIGJ5IFNTSCBvdmVyIEhUVFAgcHJveHkuXG4gICAqL1xuICByZWFkb25seSBwcm94eVNjaGVtZT86IFwiaHR0cFwiIHwgXCJodHRwc1wiO1xuXG4gIC8qKlxuICAgKiBTZXR0aW5nIHRoaXMgZW5hYmxlcyB0aGUgU1NIIG92ZXIgSFRUUCBjb25uZWN0aW9uLlxuICAgKiBUaGlzIGhvc3Qgd2lsbCBiZSBjb25uZWN0ZWQgdG8gZmlyc3QsIGFuZCB0aGVuIHRoZSBob3N0IG9yIGJhc3Rpb25faG9zdCBjb25uZWN0aW9uIHdpbGwgYmUgbWFkZSBmcm9tIHRoZXJlLlxuICAgKi9cbiAgcmVhZG9ubHkgcHJveHlIb3N0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcG9ydCB0byB1c2UgY29ubmVjdCB0byB0aGUgcHJveHkgaG9zdC5cbiAgICovXG4gIHJlYWRvbmx5IHByb3h5UG9ydD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHVzZXJuYW1lIHRvIHVzZSBjb25uZWN0IHRvIHRoZSBwcml2YXRlIHByb3h5IGhvc3QuXG4gICAqIFRoaXMgYXJndW1lbnQgc2hvdWxkIGJlIHNwZWNpZmllZCBvbmx5IGlmIGF1dGhlbnRpY2F0aW9uIGlzIHJlcXVpcmVkIGZvciB0aGUgSFRUUCBQcm94eSBzZXJ2ZXIuXG4gICAqL1xuICByZWFkb25seSBwcm94eVVzZXJOYW1lPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFzc3dvcmQgdG8gdXNlIGNvbm5lY3QgdG8gdGhlIHByaXZhdGUgcHJveHkgaG9zdC5cbiAgICogVGhpcyBhcmd1bWVudCBzaG91bGQgYmUgc3BlY2lmaWVkIG9ubHkgaWYgYXV0aGVudGljYXRpb24gaXMgcmVxdWlyZWQgZm9yIHRoZSBIVFRQIFByb3h5IHNlcnZlci5cbiAgICovXG4gIHJlYWRvbmx5IHByb3h5VXNlclBhc3N3b3JkPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIE1vc3QgcHJvdmlzaW9uZXJzIHJlcXVpcmUgYWNjZXNzIHRvIHRoZSByZW1vdGUgcmVzb3VyY2UgdmlhIFNTSCBvciBXaW5STSBhbmQgZXhwZWN0IGEgbmVzdGVkIGNvbm5lY3Rpb24gYmxvY2sgd2l0aCBkZXRhaWxzIGFib3V0IGhvdyB0byBjb25uZWN0LlxuICpcbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuaGFzaGljb3JwLmNvbS90ZXJyYWZvcm0vbGFuZ3VhZ2UvcmVzb3VyY2VzL3Byb3Zpc2lvbmVycy9jb25uZWN0aW9uIGNvbm5lY3Rpb259XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV2lucm1Qcm92aXNpb25lckNvbm5lY3Rpb24ge1xuICAvKipcbiAgICogVGhlIGNvbm5lY3Rpb24gdHlwZS4gVmFsaWQgdmFsdWVzIGFyZSBcInNzaFwiIGFuZCBcIndpbnJtXCIuXG4gICAqIFByb3Zpc2lvbmVycyB0eXBpY2FsbHkgYXNzdW1lIHRoYXQgdGhlIHJlbW90ZSBzeXN0ZW0gcnVucyBNaWNyb3NvZnQgV2luZG93cyB3aGVuIHVzaW5nIFdpblJNLlxuICAgKiBCZWhhdmlvcnMgYmFzZWQgb24gdGhlIFNTSCB0YXJnZXRfcGxhdGZvcm0gd2lsbCBmb3JjZSBXaW5kb3dzLXNwZWNpZmljIGJlaGF2aW9yIGZvciBXaW5STSwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG4gICAqL1xuICByZWFkb25seSB0eXBlOiBcIndpbnJtXCI7XG5cbiAgLyoqXG4gICAqIFRoZSB1c2VyIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBkZWZhdWx0IHJvb3RcbiAgICovXG4gIHJlYWRvbmx5IHVzZXI/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBwYXNzd29yZCB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgcGFzc3dvcmQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBhZGRyZXNzIG9mIHRoZSByZXNvdXJjZSB0byBjb25uZWN0IHRvLlxuICAgKi9cbiAgcmVhZG9ubHkgaG9zdDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcG9ydCB0byBjb25uZWN0IHRvLlxuICAgKlxuICAgKiBAZGVmYXVsdCAyMlxuICAgKi9cbiAgcmVhZG9ubHkgcG9ydD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHRpbWVvdXQgdG8gd2FpdCBmb3IgdGhlIGNvbm5lY3Rpb24gdG8gYmVjb21lIGF2YWlsYWJsZS5cbiAgICogU2hvdWxkIGJlIHByb3ZpZGVkIGFzIGEgc3RyaW5nIChlLmcuLCBcIjMwc1wiIG9yIFwiNW1cIi4pXG4gICAqXG4gICAqIEBkZWZhdWx0IDVtXG4gICAqL1xuICByZWFkb25seSB0aW1lb3V0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgcGF0aCB1c2VkIHRvIGNvcHkgc2NyaXB0cyBtZWFudCBmb3IgcmVtb3RlIGV4ZWN1dGlvbi5cbiAgICogUmVmZXIgdG8ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmhhc2hpY29ycC5jb20vdGVycmFmb3JtL2xhbmd1YWdlL3Jlc291cmNlcy9wcm92aXNpb25lcnMvY29ubmVjdGlvbiNob3ctcHJvdmlzaW9uZXJzLWV4ZWN1dGUtcmVtb3RlLXNjcmlwdHMgSG93IFByb3Zpc2lvbmVycyBFeGVjdXRlIFJlbW90ZSBTY3JpcHRzIGJlbG93IGZvciBtb3JlIGRldGFpbHN9XG4gICAqL1xuICByZWFkb25seSBzY3JpcHRQYXRoPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSB0byBjb25uZWN0IHVzaW5nIEhUVFBTIGluc3RlYWQgb2YgSFRUUC5cbiAgICovXG4gIHJlYWRvbmx5IGh0dHBzPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogU2V0IHRvIHRydWUgdG8gc2tpcCB2YWxpZGF0aW5nIHRoZSBIVFRQUyBjZXJ0aWZpY2F0ZSBjaGFpbi5cbiAgICovXG4gIHJlYWRvbmx5IGluc2VjdXJlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogU2V0IHRvIHRydWUgdG8gdXNlIE5UTE0gYXV0aGVudGljYXRpb24gcmF0aGVyIHRoYW4gZGVmYXVsdCAoYmFzaWMgYXV0aGVudGljYXRpb24pLCByZW1vdmluZyB0aGUgcmVxdWlyZW1lbnQgZm9yIGJhc2ljIGF1dGhlbnRpY2F0aW9uIHRvIGJlIGVuYWJsZWQgd2l0aGluIHRoZSB0YXJnZXQgZ3Vlc3QuXG4gICAqIFJlZmVyIHRvIEF1dGhlbnRpY2F0aW9uIGZvciBSZW1vdGUgQ29ubmVjdGlvbnMgaW4gdGhlIFdpbmRvd3MgQXBwIERldmVsb3BtZW50IGRvY3VtZW50YXRpb24gZm9yIG1vcmUgZGV0YWlscy5cbiAgICovXG4gIHJlYWRvbmx5IHVzZU50bG0/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgQ0EgY2VydGlmaWNhdGUgdG8gdmFsaWRhdGUgYWdhaW5zdC5cbiAgICovXG4gIHJlYWRvbmx5IGNhY2VydD86IHN0cmluZztcbn1cblxuLyoqXG4gKiBUaGUgZmlsZSBwcm92aXNpb25lciBjb3BpZXMgZmlsZXMgb3IgZGlyZWN0b3JpZXMgZnJvbSB0aGUgbWFjaGluZSBydW5uaW5nIFRlcnJhZm9ybSB0byB0aGUgbmV3bHkgY3JlYXRlZCByZXNvdXJjZS5cbiAqIFRoZSBmaWxlIHByb3Zpc2lvbmVyIHN1cHBvcnRzIGJvdGggc3NoIGFuZCB3aW5ybSB0eXBlIGNvbm5lY3Rpb25zLlxuICpcbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuaGFzaGljb3JwLmNvbS90ZXJyYWZvcm0vbGFuZ3VhZ2UvcmVzb3VyY2VzL3Byb3Zpc2lvbmVycy9maWxlIGZpbGV9XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZVByb3Zpc2lvbmVyIHtcbiAgcmVhZG9ubHkgdHlwZTogXCJmaWxlXCI7XG4gIC8qKlxuICAgKiBUaGUgc291cmNlIGZpbGUgb3IgZGlyZWN0b3J5LiBTcGVjaWZ5IGl0IGVpdGhlciByZWxhdGl2ZSB0byB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSBvciBhcyBhbiBhYnNvbHV0ZSBwYXRoLlxuICAgKiBUaGlzIGFyZ3VtZW50IGNhbm5vdCBiZSBjb21iaW5lZCB3aXRoIGNvbnRlbnQuXG4gICAqL1xuICByZWFkb25seSBkZXN0aW5hdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGRpcmVjdCBjb250ZW50IHRvIGNvcHkgb24gdGhlIGRlc3RpbmF0aW9uLlxuICAgKiBJZiBkZXN0aW5hdGlvbiBpcyBhIGZpbGUsIHRoZSBjb250ZW50IHdpbGwgYmUgd3JpdHRlbiBvbiB0aGF0IGZpbGUuXG4gICAqIEluIGNhc2Ugb2YgYSBkaXJlY3RvcnksIGEgZmlsZSBuYW1lZCB0Zi1maWxlLWNvbnRlbnQgaXMgY3JlYXRlZCBpbnNpZGUgdGhhdCBkaXJlY3RvcnkuXG4gICAqIFdlIHJlY29tbWVuZCB1c2luZyBhIGZpbGUgYXMgdGhlIGRlc3RpbmF0aW9uIHdoZW4gdXNpbmcgY29udGVudC5cbiAgICogVGhpcyBhcmd1bWVudCBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCBzb3VyY2UuXG4gICAqL1xuICByZWFkb25seSBzb3VyY2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgZGVzdGluYXRpb24gcGF0aCB0byB3cml0ZSB0byBvbiB0aGUgcmVtb3RlIHN5c3RlbS5cbiAgICogU2VlIERlc3RpbmF0aW9uIFBhdGhzIGJlbG93IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgY29udGVudD86IHN0cmluZztcblxuICAvKipcbiAgICogTW9zdCBwcm92aXNpb25lcnMgcmVxdWlyZSBhY2Nlc3MgdG8gdGhlIHJlbW90ZSByZXNvdXJjZSB2aWEgU1NIIG9yIFdpblJNIGFuZCBleHBlY3QgYSBuZXN0ZWQgY29ubmVjdGlvbiBibG9jayB3aXRoIGRldGFpbHMgYWJvdXQgaG93IHRvIGNvbm5lY3QuXG4gICAqL1xuICByZWFkb25seSBjb25uZWN0aW9uPzogU1NIUHJvdmlzaW9uZXJDb25uZWN0aW9uIHwgV2lucm1Qcm92aXNpb25lckNvbm5lY3Rpb247XG59XG5cbi8qKlxuICogVGhlIGxvY2FsLWV4ZWMgcHJvdmlzaW9uZXIgaW52b2tlcyBhIGxvY2FsIGV4ZWN1dGFibGUgYWZ0ZXIgYSByZXNvdXJjZSBpcyBjcmVhdGVkLlxuICogVGhpcyBpbnZva2VzIGEgcHJvY2VzcyBvbiB0aGUgbWFjaGluZSBydW5uaW5nIFRlcnJhZm9ybSwgbm90IG9uIHRoZSByZXNvdXJjZS5cbiAqXG4gKiBTZWUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmhhc2hpY29ycC5jb20vdGVycmFmb3JtL2xhbmd1YWdlL3Jlc291cmNlcy9wcm92aXNpb25lcnMvbG9jYWwtZXhlYyBsb2NhbC1leGVjfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExvY2FsRXhlY1Byb3Zpc2lvbmVyIHtcbiAgcmVhZG9ubHkgdHlwZTogXCJsb2NhbC1leGVjXCI7XG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBjb21tYW5kIHRvIGV4ZWN1dGUuXG4gICAqIEl0IGNhbiBiZSBwcm92aWRlZCBhcyBhIHJlbGF0aXZlIHBhdGggdG8gdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3Rvcnkgb3IgYXMgYW4gYWJzb2x1dGUgcGF0aC5cbiAgICogSXQgaXMgZXZhbHVhdGVkIGluIGEgc2hlbGwsIGFuZCBjYW4gdXNlIGVudmlyb25tZW50IHZhcmlhYmxlcyBvciBUZXJyYWZvcm0gdmFyaWFibGVzLlxuICAgKi9cbiAgcmVhZG9ubHkgY29tbWFuZDogc3RyaW5nO1xuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIHNwZWNpZmllcyB0aGUgd29ya2luZyBkaXJlY3Rvcnkgd2hlcmUgY29tbWFuZCB3aWxsIGJlIGV4ZWN1dGVkLlxuICAgKiBJdCBjYW4gYmUgcHJvdmlkZWQgYXMgYSByZWxhdGl2ZSBwYXRoIHRvIHRoZSBjdXJyZW50IHdvcmtpbmcgZGlyZWN0b3J5IG9yIGFzIGFuIGFic29sdXRlIHBhdGguXG4gICAqIFRoZSBkaXJlY3RvcnkgbXVzdCBleGlzdC5cbiAgICovXG4gIHJlYWRvbmx5IHdvcmtpbmdEaXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBJZiBwcm92aWRlZCwgdGhpcyBpcyBhIGxpc3Qgb2YgaW50ZXJwcmV0ZXIgYXJndW1lbnRzIHVzZWQgdG8gZXhlY3V0ZSB0aGUgY29tbWFuZC5cbiAgICogVGhlIGZpcnN0IGFyZ3VtZW50IGlzIHRoZSBpbnRlcnByZXRlciBpdHNlbGYuXG4gICAqIEl0IGNhbiBiZSBwcm92aWRlZCBhcyBhIHJlbGF0aXZlIHBhdGggdG8gdGhlIGN1cnJlbnQgd29ya2luZyBkaXJlY3Rvcnkgb3IgYXMgYW4gYWJzb2x1dGUgcGF0aFxuICAgKiBUaGUgcmVtYWluaW5nIGFyZ3VtZW50cyBhcmUgYXBwZW5kZWQgcHJpb3IgdG8gdGhlIGNvbW1hbmQuXG4gICAqIFRoaXMgYWxsb3dzIGJ1aWxkaW5nIGNvbW1hbmQgbGluZXMgb2YgdGhlIGZvcm0gXCIvYmluL2Jhc2hcIiwgXCItY1wiLCBcImVjaG8gZm9vXCIuXG4gICAqIElmIGludGVycHJldGVyIGlzIHVuc3BlY2lmaWVkLCBzZW5zaWJsZSBkZWZhdWx0cyB3aWxsIGJlIGNob3NlbiBiYXNlZCBvbiB0aGUgc3lzdGVtIE9TLlxuICAgKi9cbiAgcmVhZG9ubHkgaW50ZXJwcmV0ZXI/OiBzdHJpbmdbXTtcbiAgLyoqXG4gICAqICBBIHJlY29yZCBvZiBrZXkgdmFsdWUgcGFpcnMgcmVwcmVzZW50aW5nIHRoZSBlbnZpcm9ubWVudCBvZiB0aGUgZXhlY3V0ZWQgY29tbWFuZC5cbiAgICogSXQgaW5oZXJpdHMgdGhlIGN1cnJlbnQgcHJvY2VzcyBlbnZpcm9ubWVudC5cbiAgICovXG4gIHJlYWRvbmx5IGVudmlyb25tZW50PzogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCBzcGVjaWZpZXMgd2hlbiBUZXJyYWZvcm0gd2lsbCBleGVjdXRlIHRoZSBjb21tYW5kLlxuICAgKiBGb3IgZXhhbXBsZSwgd2hlbiA9IGRlc3Ryb3kgc3BlY2lmaWVzIHRoYXQgdGhlIHByb3Zpc2lvbmVyIHdpbGwgcnVuIHdoZW4gdGhlIGFzc29jaWF0ZWQgcmVzb3VyY2UgaXMgZGVzdHJveWVkXG4gICAqL1xuICByZWFkb25seSB3aGVuPzogXCJkZXN0cm95XCIgfCBcImNyZWF0ZVwiO1xufVxuXG4vKipcbiAqIFRoZSByZW1vdGUtZXhlYyBwcm92aXNpb25lciBpbnZva2VzIGEgc2NyaXB0IG9uIGEgcmVtb3RlIHJlc291cmNlIGFmdGVyIGl0IGlzIGNyZWF0ZWQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHJ1biBhIGNvbmZpZ3VyYXRpb24gbWFuYWdlbWVudCB0b29sLCBib290c3RyYXAgaW50byBhIGNsdXN0ZXIsIGV0Y1xuICogVGhlIHJlbW90ZS1leGVjIHByb3Zpc2lvbmVyIHJlcXVpcmVzIGEgY29ubmVjdGlvbiBhbmQgc3VwcG9ydHMgYm90aCBzc2ggYW5kIHdpbnJtLlxuICpcbiAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuaGFzaGljb3JwLmNvbS90ZXJyYWZvcm0vbGFuZ3VhZ2UvcmVzb3VyY2VzL3Byb3Zpc2lvbmVycy9yZW1vdGUtZXhlYyByZW1vdGUtZXhlY31cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW1vdGVFeGVjUHJvdmlzaW9uZXIge1xuICByZWFkb25seSB0eXBlOiBcInJlbW90ZS1leGVjXCI7XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBsaXN0IG9mIGNvbW1hbmQgc3RyaW5ncy5cbiAgICogVGhleSBhcmUgZXhlY3V0ZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIHByb3ZpZGVkLlxuICAgKiBUaGlzIGNhbm5vdCBiZSBwcm92aWRlZCB3aXRoIHNjcmlwdCBvciBzY3JpcHRzLlxuICAgKi9cbiAgcmVhZG9ubHkgaW5saW5lPzogc3RyaW5nW107XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgYSBwYXRoIChyZWxhdGl2ZSBvciBhYnNvbHV0ZSkgdG8gYSBsb2NhbCBzY3JpcHQgdGhhdCB3aWxsIGJlIGNvcGllZCB0byB0aGUgcmVtb3RlIHJlc291cmNlIGFuZCB0aGVuIGV4ZWN1dGVkLlxuICAgKiBUaGlzIGNhbm5vdCBiZSBwcm92aWRlZCB3aXRoIGlubGluZSBvciBzY3JpcHRzLlxuICAgKi9cbiAgcmVhZG9ubHkgc2NyaXB0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgbGlzdCBvZiBwYXRocyAocmVsYXRpdmUgb3IgYWJzb2x1dGUpIHRvIGxvY2FsIHNjcmlwdHMgdGhhdCB3aWxsIGJlIGNvcGllZCB0byB0aGUgcmVtb3RlIHJlc291cmNlIGFuZCB0aGVuIGV4ZWN1dGVkLlxuICAgKiBUaGV5IGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJvdmlkZWQuXG4gICAqIFRoaXMgY2Fubm90IGJlIHByb3ZpZGVkIHdpdGggaW5saW5lIG9yIHNjcmlwdC5cbiAgICovXG4gIHJlYWRvbmx5IHNjcmlwdHM/OiBzdHJpbmdbXTtcblxuICAvKipcbiAgICogTW9zdCBwcm92aXNpb25lcnMgcmVxdWlyZSBhY2Nlc3MgdG8gdGhlIHJlbW90ZSByZXNvdXJjZSB2aWEgU1NIIG9yIFdpblJNIGFuZCBleHBlY3QgYSBuZXN0ZWQgY29ubmVjdGlvbiBibG9jayB3aXRoIGRldGFpbHMgYWJvdXQgaG93IHRvIGNvbm5lY3QuXG4gICAqIEEgY29ubmVjdGlvbiBtdXN0IGJlIHByb3ZpZGVkIGhlcmUgb3IgaW4gdGhlIHBhcmVudCByZXNvdXJjZS5cbiAgICovXG4gIHJlYWRvbmx5IGNvbm5lY3Rpb24/OiBTU0hQcm92aXNpb25lckNvbm5lY3Rpb24gfCBXaW5ybVByb3Zpc2lvbmVyQ29ubmVjdGlvbjtcbn1cblxuLyoqXG4gKiBFeHByZXNzaW9ucyBpbiBjb25uZWN0aW9uIGJsb2NrcyBjYW5ub3QgcmVmZXIgdG8gdGhlaXIgcGFyZW50IHJlc291cmNlIGJ5IG5hbWUuXG4gKiBSZWZlcmVuY2VzIGNyZWF0ZSBkZXBlbmRlbmNpZXMsIGFuZCByZWZlcnJpbmcgdG8gYSByZXNvdXJjZSBieSBuYW1lIHdpdGhpbiBpdHMgb3duIGJsb2NrIHdvdWxkIGNyZWF0ZSBhIGRlcGVuZGVuY3kgY3ljbGUuXG4gKiBJbnN0ZWFkLCBleHByZXNzaW9ucyBjYW4gdXNlIHRoZSBzZWxmIG9iamVjdCwgd2hpY2ggcmVwcmVzZW50cyB0aGUgY29ubmVjdGlvbidzIHBhcmVudCByZXNvdXJjZSBhbmQgaGFzIGFsbCBvZiB0aGF0IHJlc291cmNlJ3MgYXR0cmlidXRlcy5cbiAqIEZvciBleGFtcGxlLCB1c2Ugc2VsZi5wdWJsaWNfaXAgdG8gcmVmZXJlbmNlIGFuIGF3c19pbnN0YW5jZSdzIHB1YmxpY19pcCBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZXJyYWZvcm1TZWxmIHtcbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0SW50ZXJwb2xhdGlvbihrZXk6IHN0cmluZykge1xuICAgIHJldHVybiBgc2VsZi4ke3NuYWtlQ2FzZShrZXkpfWA7XG4gIH1cblxuICAvKipcbiAgICogT25seSB1c2FibGUgd2l0aGluIGEgY29ubmVjdGlvbiBibG9jayB0byByZWZlcmVuY2UgdGhlIGNvbm5lY3Rpb25zIHBhcmVudCByZXNvdXJjZS5cbiAgICogQWNjZXNzIGEgcHJvcGVydHkgb24gdGhlIHJlc291cmNlIGxpa2UgdGhpczogYGdldFN0cmluZyhcInB1YmxpY0lwXCIpYFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBnZXRTdHJpbmcoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBUb2tlbi5hc1N0cmluZyhyZWYoVGVycmFmb3JtU2VsZi5nZXRJbnRlcnBvbGF0aW9uKGtleSkpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPbmx5IHVzYWJsZSB3aXRoaW4gYSBjb25uZWN0aW9uIGJsb2NrIHRvIHJlZmVyZW5jZSB0aGUgY29ubmVjdGlvbnMgcGFyZW50IHJlc291cmNlLlxuICAgKiBBY2Nlc3MgYSBwcm9wZXJ0eSBvbiB0aGUgcmVzb3VyY2UgbGlrZSB0aGlzOiBgZ2V0TnVtYmVyKFwiaG9zdFBvcnRcIilgXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGdldE51bWJlcihrZXk6IHN0cmluZyk6IG51bWJlciB7XG4gICAgcmV0dXJuIFRva2VuLmFzTnVtYmVyKHJlZihUZXJyYWZvcm1TZWxmLmdldEludGVycG9sYXRpb24oa2V5KSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9ubHkgdXNhYmxlIHdpdGhpbiBhIGNvbm5lY3Rpb24gYmxvY2sgdG8gcmVmZXJlbmNlIHRoZSBjb25uZWN0aW9ucyBwYXJlbnQgcmVzb3VyY2UuXG4gICAqIEFjY2VzcyBhIHByb3BlcnR5IG9uIHRoZSByZXNvdXJjZSBsaWtlIHRoaXM6IGBnZXRBbnkoXCJob3N0UG9ydFwiKWBcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZ2V0QW55KGtleTogc3RyaW5nKTogYW55IHtcbiAgICByZXR1cm4gVG9rZW4uYXNBbnkocmVmKFRlcnJhZm9ybVNlbGYuZ2V0SW50ZXJwb2xhdGlvbihrZXkpKSk7XG4gIH1cbn1cbiJdfQ==